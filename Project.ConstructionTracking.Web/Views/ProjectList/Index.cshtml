@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_LayoutSite.cshtml";
}
@model IEnumerable<dynamic>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/material-design-iconic-font/2.2.0/css/material-design-iconic-font.min.css">
<!-- Tabler CSS -->
<link href="https://cdn.jsdelivr.net/npm/tabler/core@latest/dist/css/tabler.min.css" rel="stylesheet">
<!-- Select2 CSS -->
<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />

<div class="page-wrapper">
    <!-- Page header -->
    <div class="page-header d-print-none">
        <div class="card bg-primary text-primary-fg">
            <div class="card-stamp">
                <div class="card-stamp-icon bg-white text-primary">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-home-heart">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                        <path d="M21 12l-9 -9l-9 9h2v7a2 2 0 0 0 2 2h6" />
                        <path d="M9 21v-6a2 2 0 0 1 2 -2h2c.39 0 .754 .112 1.061 .304" />
                        <path d="M19 21.5l2.518 -2.58a1.74 1.74 0 0 0 0 -2.413a1.627 1.627 0 0 0 -2.346 0l-.168 .172l-.168 -.172a1.627 1.627 0 0 0 -2.346 0a1.74 1.74 0 0 0 0 2.412l2.51 2.59z" />
                    </svg>
                </div>
            </div>
            <div class="card-body">
                <h2>ค้นหาโครงการ</h2>
            </div>
        </div>
    </div>
    <!-- Page body -->
    <div class="page-body">
        <div class="col-12">
            <form id="form-search" method="post" asp-action="Search" asp-controller="ProjectList">
                <div class="row">
                    <div class="col-12">
                        <div class="mb-3">
                            <div class="row g-2">
                                <div class="col">
                                    <input type="text" id="Search_Project" name="Search_Project" class="form-control" placeholder="พิมพ์ชื่อโครงการเพื่อค้นหา...">
                                </div>
                                <div class="col-auto">
                                    <button type="submit" class="btn btn-icon" aria-label="Button">
                                        <!-- Download SVG icon from http://tabler-icons.io/i/search -->
                                        <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none" /><path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0" /><path d="M21 21l-6 -6" /></svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <div class="col-12">
            <div class="container">
                <div class="row clearfix">
                    @foreach (var project in Model)
                    {
                        <div class="col-lg-3 col-md-4 col-sm-6 col-6 g-4">
                            <!-- เริ่มต้นการ์ดของสินค้า -->
                            <div class="card product_item">
                                <div class="body">
                                    <div class="cp_img">
                                        <!-- รูปภาพของสินค้า -->
                                        <img src="~/img/img23.jpg" alt="รูปภาพโครงการ" class="img-fluid">
                                        <div class="hover">
                                            <form method="post" action="/ProjectList/GoToUnitlist">
                                                <input type="hidden" name="projectId" value="@project.ProjectID" />
                                                <button type="submit" class="btn btn-primary btn-md waves-effect">Go</button>
                                            </form>
                                        </div>
                                    </div>
                                    <div class="product_details">
                                        <!-- Project name -->
                                        <h5><a href="#">@project.ProjectName</a></h5>
                                    </div>
                                </div>
                            </div>
                            <!-- สิ้นสุดการ์ดของสินค้า -->
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>


</div>

<style>
    /* จัดการรีวิว */
    .c_review { /* คลาสสำหรับการจัดการรีวิว */
        margin-bottom: 0; /* ตั้งค่าระยะห่างด้านล่างเป็น 0 */
    }

    .c_review li { /* คลาสสำหรับรายการในรีวิว */
        margin-bottom: 16px; /* ตั้งค่าระยะห่างด้านล่างของรายการเป็น 16px */
        padding-bottom: 13px; /* ตั้งค่าระยะห่างด้านล่างภายในเป็น 13px */
        border-bottom: 1px solid #e8e8e8; /* ตั้งค่าเส้นขอบด้านล่างสีเทาอ่อน */
    }

    .c_review li:last-child { /* คลาสสำหรับรายการสุดท้ายในรีวิว */
        margin: 0; /* ตั้งค่าระยะห่างเป็น 0 */
        border: none; /* ไม่ใช้เส้นขอบ */
    }

    .c_review .avatar { /* คลาสสำหรับภาพโปรไฟล์ */
        float: left; /* จัดวางภาพโปรไฟล์ทางซ้าย */
        width: 80px; /* ตั้งค่าความกว้างของภาพโปรไฟล์เป็น 80px */
    }

    .c_review .comment-action { /* คลาสสำหรับการกระทำในรีวิว */
        float: left; /* จัดวางทางซ้าย */
        width: calc(100% - 80px); /* ตั้งค่าความกว้างของส่วนนี้เป็น 100% ลบด้วยความกว้างของภาพโปรไฟล์ */
    }

    .c_review .comment-action .c_name { /* คลาสสำหรับชื่อในรีวิว */
        margin: 0; /* ตั้งค่าระยะห่างเป็น 0 */
    }

    .c_review .comment-action p { /* คลาสสำหรับย่อหน้าในรีวิว */
        text-overflow: ellipsis; /* แสดง ... เมื่อข้อความล้น */
        white-space: nowrap; /* ไม่ให้ข้อความย่อหน้าแยกบรรทัด */
        overflow: hidden; /* ซ่อนข้อความที่ล้น */
        max-width: 95%; /* ตั้งค่าความกว้างสูงสุดเป็น 95% */
        display: block; /* แสดงเป็นบล็อก */
    }

    /* การจัดการลักษณะของสินค้า */
    .product_item:hover .cp_img { /* คลาสสำหรับภาพของสินค้าที่ถูกชี้เมาส์ */
        top: -40px; /* ตั้งค่าตำแหน่งบนเป็น -40px */
    }

    .product_item:hover .cp_img img { /* คลาสสำหรับภาพของสินค้าที่ถูกชี้เมาส์ */
        box-shadow: 0 19px 38px rgba(0, 0, 0, 0.3), 0 15px 12px rgba(0, 0, 0, 0.22); /* ตั้งค่าเงา */
    }

    .product_item:hover .cp_img .hover { /* คลาสสำหรับปุ่มที่ปรากฏเมื่อชี้เมาส์ที่สินค้า */
        display: block; /* แสดงปุ่ม */
    }

    .product_item .cp_img { /* คลาสสำหรับภาพของสินค้า */
        position: absolute; /* ตั้งค่าตำแหน่งแบบสัมบูรณ์ */
        top: 0px; /* ตั้งค่าตำแหน่งบนเป็น 0px */
        left: 50%; /* ตั้งค่าตำแหน่งซ้ายเป็น 50% */
        transform: translate(-50%); /* ย้ายตำแหน่งไปทางซ้าย 50% */
        width: 100%; /* ตั้งค่าความกว้างเป็น 100% */
        padding: 15px; /* ตั้งค่าระยะห่างภายในเป็น 15px */
        transition: all 0.2s ease-in-out; /* ตั้งค่าการเปลี่ยนแปลงทุกอย่างใน 0.2 วินาที */
    }

    .product_item .cp_img img { /* คลาสสำหรับภาพของสินค้า */
        transition: all 0.2s ease-in-out; /* ตั้งค่าการเปลี่ยนแปลงทุกอย่างใน 0.2 วินาที */
        border-radius: 6px; /* ตั้งค่ามุมของภาพให้โค้ง 6px */
    }

    .product_item .cp_img .hover { /* คลาสสำหรับปุ่มที่ปรากฏเมื่อชี้เมาส์ที่สินค้า */
        display: none; /* ไม่แสดงปุ่ม */
        text-align: center; /* จัดข้อความให้อยู่กึ่งกลาง */
        margin-top: 10px; /* ตั้งค่าระยะห่างด้านบนเป็น 10px */
    }

    .product_item .product_details { /* คลาสสำหรับรายละเอียดของสินค้า */
        padding-top: 85%; /* ตั้งค่าระยะห่างด้านบนภายในเป็น 95% */
        text-align: center; /* จัดข้อความให้อยู่กึ่งกลาง */
    }

    .product_item .product_details h5 { /* คลาสสำหรับหัวเรื่องของสินค้า */
        margin-bottom: 5px; /* ตั้งค่าระยะห่างด้านล่างเป็น 5px */
    }

    .product_item .product_details h5 a { /* คลาสสำหรับลิงก์ในหัวเรื่องของสินค้า */
        font-size: 16px; /* ตั้งค่าขนาดตัวอักษรเป็น 16px */
        color: #444; /* ตั้งค่าสีของตัวอักษรเป็นสีเทาเข้ม */
    }

    .product_item .product_details h5 a:hover { /* คลาสสำหรับลิงก์ในหัวเรื่องของสินค้าที่ถูกชี้เมาส์ */
        text-decoration: none; /* ไม่ใช้เส้นใต้ */
    }

    .product_item .product_details .product_price { /* คลาสสำหรับราคาของสินค้า */
        margin: 0; /* ตั้งค่าระยะห่างเป็น 0 */
    }

    .product_item .product_details .product_price li { /* คลาสสำหรับรายการราคาของสินค้า */
        display: inline-block; /* แสดงเป็นบล็อกในแนวนอน */
        padding: 0 10px; /* ตั้งค่าระยะห่างภายในเป็น 10px */
    }

    .product_item .product_details .product_price .new_price { /* คลาสสำหรับราคาของสินค้าปัจจุบัน */
        font-weight: 600; /* ตั้งค่าความหนาของตัวอักษรเป็น 600 */
        color: #ff4136; /* ตั้งค่าสีของตัวอักษรเป็นสีแดง */
    }

    .product_item_list table tr td { /* คลาสสำหรับเซลล์ในตารางรายการสินค้า */
        vertical-align: middle; /* จัดแนวตั้งให้อยู่ตรงกลาง */
    }

    .product_item_list table tr td h5 { /* คลาสสำหรับหัวเรื่องในเซลล์ของตาราง */
        font-size: 15px; /* ตั้งค่าขนาดตัวอักษรเป็น 15px */
        margin: 0; /* ตั้งค่าระยะห่างเป็น 0 */
    }

    .product_item_list table tr td .btn { /* คลาสสำหรับปุ่มในเซลล์ของตาราง */
        box-shadow: none !important; /* ไม่มีเงา */
    }

    .product-order-list table tr th:last-child { /* คลาสสำหรับเซลล์หัวตารางสุดท้าย */
        width: 145px; /* ตั้งค่าความกว้างเป็น 145px */
    }

    .preview { /* คลาสสำหรับการแสดงผลภาพตัวอย่าง */
        display: flex; /* แสดงผลแบบยืดหยุ่น */
        flex-direction: column; /* จัดเรียงในแนวตั้ง */
    }

    .preview .preview-pic { /* คลาสสำหรับภาพตัวอย่าง */
        flex-grow: 1; /* เพิ่มความยืดหยุ่นในการขยาย */
    }

    .preview .preview-thumbnail.nav-tabs { /* คลาสสำหรับแท็บรูปขนาดย่อ */
        margin-top: 15px; /* ตั้งค่าระยะห่างด้านบนเป็น 15px */
        font-size: 0; /* ตั้งค่าขนาดตัวอักษรเป็น 0 */
    }

    .preview .preview-thumbnail.nav-tabs li { /* คลาสสำหรับรายการแท็บรูปขนาดย่อ */
        width: 20%; /* ตั้งค่าความกว้างเป็น 20% */
        display: inline-block; /* แสดงเป็นบล็อกในแนวนอน */
    }

    .preview .preview-thumbnail.nav-tabs li nav-link img { /* คลาสสำหรับรูปขนาดย่อในแท็บ */
        max-width: 100%; /* ตั้งค่าความกว้างสูงสุดเป็น 100% */
        display: block; /* แสดงเป็นบล็อก */
    }

    .preview .preview-thumbnail.nav-tabs li a { /* คลาสสำหรับลิงก์ในแท็บ */
        padding: 0; /* ตั้งค่าระยะห่างภายในเป็น 0 */
        margin: 2px; /* ตั้งค่าระยะห่างภายนอกเป็น 2px */
        border-radius: 0 !important; /* ไม่ให้มุมของขอบโค้ง */
        border-top: none !important; /* ไม่ใช้ขอบด้านบน */
        border-left: none !important; /* ไม่ใช้ขอบด้านซ้าย */
        border-right: none !important; /* ไม่ใช้ขอบด้านขวา */
    }

    .preview .preview-thumbnail.nav-tabs li:last-of-type { /* คลาสสำหรับรายการแท็บสุดท้าย */
        margin-right: 0; /* ตั้งค่าระยะห่างด้านขวาเป็น 0 */
    }

    .preview .tab-content { /* คลาสสำหรับเนื้อหาในแท็บ */
        overflow: hidden; /* ซ่อนเนื้อหาที่ล้น */
    }

    .preview .tab-content img { /* คลาสสำหรับภาพในเนื้อหาแท็บ */
        width: 100%; /* ตั้งค่าความกว้างเป็น 100% */
        animation-name: opacity; /* ใช้แอนิเมชัน opacity */
        animation-duration: .3s; /* ตั้งค่าเวลาในการแอนิเมชันเป็น 0.3 วินาที */
    }

    .details { /* คลาสสำหรับรายละเอียด */
        display: flex; /* แสดงผลแบบยืดหยุ่น */
        flex-direction: column; /* จัดเรียงในแนวตั้ง */
    }

    .details .rating .stars { /* คลาสสำหรับดาวในเรตติ้ง */
        display: inline-block; /* แสดงเป็นบล็อกในแนวนอน */
    }

    .details .sizes .size { /* คลาสสำหรับขนาด */
        margin-right: 10px; /* ตั้งค่าระยะห่างด้านขวาเป็น 10px */
    }

    .details .sizes .size:first-of-type { /* คลาสสำหรับขนาดแรก */
        margin-left: 40px; /* ตั้งค่าระยะห่างด้านซ้ายเป็น 40px */
    }

    .details .colors .color { /* คลาสสำหรับสี */
        display: inline-block; /* แสดงเป็นบล็อกในแนวนอน */
        vertical-align: middle; /* จัดแนวตั้งให้อยู่ตรงกลาง */
        margin-right: 10px; /* ตั้งค่าระยะห่างด้านขวาเป็น 10px */
        height: 2em; /* ตั้งค่าความสูงเป็น 2em */
        width: 2em; /* ตั้งค่าความกว้างเป็น 2em */
        border-radius: 2px; /* ตั้งค่ามุมของสีให้โค้ง 2px */
    }

    .details .colors .color:first-of-type { /* คลาสสำหรับสีแรก */
        margin-left: 20px; /* ตั้งค่าระยะห่างด้านซ้ายเป็น 20px */
    }

    .details .colors .not-available { /* คลาสสำหรับสีที่ไม่สามารถใช้ได้ */
        text-align: center; /* จัดข้อความให้อยู่กึ่งกลาง */
        line-height: 2em; /* ตั้งค่าระยะห่างระหว่างบรรทัดเป็น 2em */
    }

    .details .colors .not-available:before { /* คลาสสำหรับสัญลักษณ์ก่อนหน้าสีที่ไม่สามารถใช้ได้ */
        font-family: Material-Design-Iconic-Font; /* ใช้ฟอนต์ Material-Design-Iconic-Font */
        content: "\f136"; /* ใช้สัญลักษณ์ "\f136" */
        color: #fff; /* ตั้งค่าสีของสัญลักษณ์เป็นสีขาว */
    }

    .cart-page .cart-table tr th:last-child { /* คลาสสำหรับหัวตารางสุดท้ายในหน้ารถเข็น */
        width: 145px; /* ตั้งค่าความกว้างเป็น 145px */
    }

    .cart-table .quantity-grp { /* คลาสสำหรับกลุ่มปริมาณในตารางรถเข็น */
        width: 120px; /* ตั้งค่าความกว้างเป็น 120px */
    }

    .cart-table .quantity-grp .input-group { /* คลาสสำหรับกลุ่มอินพุตในกลุ่มปริมาณ */
        margin-bottom: 0; /* ตั้งค่าระยะห่างด้านล่างเป็น 0 */
    }

    .cart-table .quantity-grp .input-group-addon { /* คลาสสำหรับแอดออนในกลุ่มปริมาณ */
        padding: 0 !important; /* ตั้งค่าระยะห่างภายในเป็น 0 */
        text-align: center; /* จัดข้อความให้อยู่กึ่งกลาง */
        background-color: #1ab1e3; /* ตั้งค่าสีพื้นหลังเป็นสีน้ำเงิน */
    }

    .cart-table .quantity-grp .input-group-addon a { /* คลาสสำหรับลิงก์ในแอดออนกลุ่มปริมาณ */
        display: block; /* แสดงเป็นบล็อก */
        padding: 8px 10px 10px; /* ตั้งค่าระยะห่างภายใน */
        color: #fff; /* ตั้งค่าสีของตัวอักษรเป็นสีขาว */
    }

    .cart-table .quantity-grp .input-group-addon a i { /* คลาสสำหรับไอคอนในแอดออนกลุ่มปริมาณ */
        vertical-align: middle; /* จัดแนวตั้งให้อยู่ตรงกลาง */
    }

    .cart-table .quantity-grp .form-control { /* คลาสสำหรับฟอร์มในกลุ่มปริมาณ */
        background-color: #fff; /* ตั้งค่าสีพื้นหลังเป็นสีขาว */
    }

    .cart-table .quantity-grp .form-control + .input-group-addon { /* คลาสสำหรับแอดออนที่ติดกับฟอร์มในกลุ่มปริมาณ */
        background-color: #1ab1e3; /* ตั้งค่าสีพื้นหลังเป็นสีน้ำเงิน */
    }

    .ec-checkout .wizard .content .form-group .btn-group.bootstrap-select.form-control { /* คลาสสำหรับกลุ่มปุ่มในฟอร์มชำระเงิน */
        padding: 0; /* ตั้งค่าระยะห่างภายในเป็น 0 */
    }

    .ec-checkout .wizard .content .form-group .btn-group.bootstrap-select.form-control .btn-round.btn-simple { /* คลาสสำหรับปุ่มในฟอร์มชำระเงิน */
        padding-top: 12px; /* ตั้งค่าระยะห่างด้านบนภายในเป็น 12px */
        padding-bottom: 12px; /* ตั้งค่าระยะห่างด้านล่างภายในเป็น 12px */
    }

    .ec-checkout .wizard .content ul.card-type { /* คลาสสำหรับรายการประเภทบัตรในฟอร์มชำระเงิน */
        font-size: 0; /* ตั้งค่าขนาดตัวอักษรเป็น 0 */
    }

    .ec-checkout .wizard .content ul.card-type li { /* คลาสสำหรับรายการในประเภทบัตรในฟอร์มชำระเงิน */
        display: inline-block; /* แสดงเป็นบล็อกในแนวนอน */
        margin-right: 10px; /* ตั้งค่าระยะห่างด้านขวาเป็น 10px */
    }

    .card { /* คลาสสำหรับการ์ด */
        background: #fff; /* ตั้งค่าสีพื้นหลังเป็นสีขาว */
        transition: .5s; /* ตั้งค่าเวลาในการเปลี่ยนแปลงเป็น 0.5 วินาที */
        border: 0; /* ไม่ใช้เส้นขอบ */
        border-radius: .55rem; /* ตั้งค่ามุมของขอบให้โค้ง 0.55rem */
        position: relative; /* ตั้งค่าตำแหน่งแบบสัมพัทธ์ */
        width: 100%; /* ตั้งค่าความกว้างเป็น 100% */
        box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.1); /* ตั้งค่าเงาเบา ๆ */
    }

    .card .body { /* คลาสสำหรับเนื้อหาภายในการ์ด */
        font-size: 14px; /* ตั้งค่าขนาดตัวอักษรเป็น 14px */
        color: #424242; /* ตั้งค่าสีของตัวอักษรเป็นสีเทาเข้ม */
        padding: 20px; /* ตั้งค่าระยะห่างภายในเป็น 20px */
        font-weight: 400; /* ตั้งค่าความหนาของตัวอักษรเป็น 400 */
    }
</style>

<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<!-- jQuery UI -->
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

<script>
    $(document).ready(function () {
        $("#Search_Project").autocomplete({
            source: function (request, response) {
                $.ajax({
                    url: '@Url.Action("SearchProjects", "ProjectList")',
                    dataType: "json",
                    data: {
                        term: request.term
                    },
                    success: function (data) {
                        response($.map(data, function (item) {
                            return {
                                label: item.ProjectName,
                                value: item.ProjectName
                            };
                        }));
                    }
                });
            },
            minLength: 2,
            select: function(event, ui) {
                $('#Search_Project').val(ui.item.value);
                $('#form-search').submit();  // เรียกใช้การค้นหาเมื่อเลือกใน autocomplete
            }
        });

        $('#form-search').submit(function (e) {
            if ($('#Search_Project').val().trim() === "") {
                $('#Search_Project').val("");  // ค้นหาทั้งหมดเมื่อช่องค้นหาว่างเปล่า
            }
        });
    });
</script>